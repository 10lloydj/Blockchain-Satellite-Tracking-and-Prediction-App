DROP TABLE IF EXISTS user;
DROP TABLE IF EXISTS post;
DROP TABLE IF EXISTS satellite;
DROP TABLE IF EXISTS block;

CREATE TABLE user (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE NOT NULL,
  password TEXT NOT NULL
);
CREATE TABLE post (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  author_id INTEGER NOT NULL,
  created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  title TEXT NOT NULL,
  body TEXT NOT NULL,
  FOREIGN KEY (author_id) REFERENCES user (id)
);

CREATE TABLE satellite (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  norad_id INTEGER UNIQUE NOT NULL,
  name TEXT NOT NULL,
  longitude TEXT NOT NULL,
  latitude TEXT NOT NULL,
  tle  TEXT NOT NULL,
  date INTEGER NOT NULL
);

CREATE TABLE block (
  id  INTEGER PRIMARY KEY AUTOINCREMENT,
  tx_hash TEXT NOT NULL,
  block_no INTEGER,
  date INTEGER NOT NULL,
  comment TEXT,
  satname TEXT NOT NULL,
  satid INTEGER NOT NULL,
  longitude TEXT NOT NULL,
  latitude TEXT NOT NULL,
  elevation TEXT NOT NULL,
  azimuth TEXT NOT NULL,
  timestamp TEXT NOT NULL
);